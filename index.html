<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Pixel Game</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Press Start 2P',cursive}

body{
height:100vh;
overflow:hidden;
background:linear-gradient(-45deg,#ff4e8a,#ff8fb1,#ff3f6c,#ff9ac5);
background-size:400% 400%;
animation:bgMove 12s ease infinite;
color:white;
display:flex;
justify-content:center;
align-items:center;
}

@keyframes bgMove{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.screen{
position:absolute;
transition:all .6s ease;
opacity:0;
pointer-events:none;
transform:scale(.95);
}

.screen.active{
opacity:1;
pointer-events:auto;
transform:scale(1);
}

.menu-box{
background:rgba(0,0,0,.6);
padding:40px;
border-radius:20px;
text-align:center;
width:400px;
box-shadow:0 0 25px rgba(255,255,255,.4);
}

.menu-box h1{
font-size:18px;
margin-bottom:30px;
}

.btn{
margin:15px;
padding:15px 20px;
background:#ff2e63;
border:none;
color:white;
cursor:pointer;
border-radius:12px;
transition:.3s;
font-size:10px;
}

.btn:hover{
background:#ff4e8a;
transform:scale(1.05);
}

.warning{
font-size:10px;
margin-top:20px;
color:#ffe6ef;
}

#gameBoard{
display:grid;
grid-template-columns:repeat(8,40px);
gap:5px;
}

.block{
width:40px;
height:40px;
background:#fff;
border-radius:8px;
cursor:pointer;
transition:.2s;
}

.block:hover{
transform:scale(1.1);
}

.score{
position:absolute;
top:20px;
left:20px;
font-size:12px;
}

.notification{
position:fixed;
top:20px;
right:20px;
background:#fff;
color:black;
padding:15px;
border-radius:15px;
width:250px;
transform:translateX(300px);
opacity:0;
transition:.5s;
font-size:10px;
}

.notification.show{
transform:translateX(0);
opacity:1;
}

.combo{
position:absolute;
font-size:20px;
color:#fff;
animation:comboPop .8s ease;
}

@keyframes comboPop{
0%{transform:scale(.5);opacity:0}
50%{transform:scale(1.3);opacity:1}
100%{transform:scale(1);opacity:0}
}

.particle{
position:absolute;
width:8px;
height:8px;
background:white;
border-radius:50%;
animation:particle .8s linear forwards;
}

@keyframes particle{
to{transform:translateY(-40px);opacity:0}
}

#ending{
text-align:center;
font-size:14px;
animation:fadeIn 1.5s ease forwards;
}

@keyframes fadeIn{
from{opacity:0;transform:scale(.8)}
to{opacity:1;transform:scale(1)}
}
</style>
</head>

<body>

<div id="menu" class="screen active">
<div class="menu-box">
<h1>VALENTINE PIXEL QUEST</h1>
<button class="btn" onclick="enterGame()">ENTER HER WORLD</button>
<button class="btn" onclick="stay()">STAY IN REALITY</button>
<div id="stayWarning" class="warning"></div>
</div>
</div>

<div id="game" class="screen">
<div class="score">Score: <span id="score">0</span> / 180</div>
<div id="gameBoard"></div>
</div>

<div id="ending" class="screen">
<h1>HAPPY VALENTINE ❤️</h1>
<p style="margin-top:30px;font-size:10px;">You reached 180 points for love.</p>
</div>

<div id="notif" class="notification"></div>

<audio id="notifSound">
<source src="https://www.myinstants.com/media/sounds/iphone_notification.mp3">
</audio>

<script>
let score=0;
let combo=0;

function switchScreen(from,to){
document.getElementById(from).classList.remove("active");
setTimeout(()=>document.getElementById(to).classList.add("active"),300);
}

function enterGame(){
switchScreen("menu","game");
generateBoard();
}

function stay(){
let warn=document.getElementById("stayWarning");
warn.innerHTML="Reality is cold... Go back?";
warn.innerHTML+="<br><button class='btn' onclick='backMenu()'>BACK</button>";
}

function backMenu(){
document.getElementById("stayWarning").innerHTML="";
}

function generateBoard(){
let board=document.getElementById("gameBoard");
board.innerHTML="";
for(let i=0;i<64;i++){
let block=document.createElement("div");
block.className="block";
block.style.background=randomColor();
block.onclick=(e)=>clickBlock(e,block);
board.appendChild(block);
}
}

function randomColor(){
const colors=["#ff2e63","#ff6f91","#ff9671","#ffc75f","#f9f871"];
return colors[Math.floor(Math.random()*colors.length)];
}

function clickBlock(e,block){
block.style.background=randomColor();
score+=10;
combo++;
document.getElementById("score").innerText=score;

createParticles(e.clientX,e.clientY);

if(combo%3===0){
showCombo();
}

if(score===50||score===100||score===150){
showNotif("You’re doing amazing ❤️");
}

if(score>=180){
setTimeout(()=>switchScreen("game","ending"),800);
}
}

function showCombo(){
let c=document.createElement("div");
c.className="combo";
c.innerText="COMBO x"+combo;
c.style.left="50%";
c.style.top="40%";
document.body.appendChild(c);
setTimeout(()=>c.remove(),800);
}

function createParticles(x,y){
for(let i=0;i<8;i++){
let p=document.createElement("div");
p.className="particle";
p.style.left=x+"px";
p.style.top=y+"px";
document.body.appendChild(p);
setTimeout(()=>p.remove(),800);
}
}

function showNotif(text){
let n=document.getElementById("notif");
n.innerText=text;
n.classList.add("show");
document.getElementById("notifSound").play();
setTimeout(()=>n.classList.remove("show"),3000);
}
</script>

</body>
</html>
